<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gopro QR DTU</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="gopro/script.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#"><strong>DTU Aqua - QR Generator</strong></a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active " aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " aria-current="page" href="#">About</a>
              </li>
            </ul>
          </div>
        </div>
    </nav>
    <div class="container-fluid mt-3  ">
      <h3>Select preset</h3>
        <form action="">
          <div class="row"> 
            <div class="col-6">
              <select class="form-select" aria-label="Default select example" id="PresetSelect" style="height: 100%;">
                <option selected>Select preset</option>
                <option data-preset="mVr1080p60fW0"> 1080p60 </option>
                <option data-preset="mVr1080p30fW0"> 1080p30 </option>
                <option data-preset="mVr27p60fW0"> 2.7k60 </option>
                <option data-preset="mVr4p60fW0"> 4k60 </option>
                <option data-preset="mVr4p30fW0"> 4k30 </option>
              </select>  
            </div>
            <div class="col-6" id="CycleSelect">
              <div class="form-check">
                <input data-cycle="!3480N!S!120E!R" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" checked>
                <label class="form-check-label" for="flexRadioDefault1">
                  Record night and day 2/60 min
                </label>
              </div>
              <div class="form-check">
                <input data-cycle="!1680N!S!120E!R" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">                
                <label class="form-check-label" for="flexRadioDefault1">
                  Record night and day 2/30 min
                </label>
              </div>
              <div class="form-check">
                <input data-cycle="!1080!S!120E!R" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">                
                <label class="form-check-label" for="flexRadioDefault1">
                  Record night and day 2/20 min
                </label>
              </div>
              <div class="form-check">
                <input data-cycle="!780N!S!120E!R" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" checked>
                <label class="form-check-label" for="flexRadioDefault1">
                  Record night and day 2/15 min
                </label>
              </div>
              <!--<div class="form-check">
                <input data-cycle="!120N!S!10E!R" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
                <label class="form-check-label" for="flexRadioDefault1">
                  Record night and day 10sec/2 min (for testing)
                </label>
              </div> -->
              <div class="form-check">
                <input data-cycle=">03:55<23:00!S+!120E+!1680R~!04:00R" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
                <label class="form-check-label" for="flexRadioDefault2">
                  Record only day (04:00-23) 2/30 min
                </label>
              </div>
              <div class="form-check">
                <input data-cycle=">03:55<23:00!S+!120E+!3840R~!04:00R" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
                <label class="form-check-label" for="flexRadioDefault2">
                  Record only day (04:00-23) 2/60 min
                </label>
              </div>
              <div class="form-check">
                <input data-cycle=">07:55<22:00!S+!120E+!1680R~!08:00R" class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
                <label class="form-check-label" for="flexRadioDefault2">
                  Record only day (08:00-22) 2/30 min
                </label>
              </div>
            </div>
          </div>
        </form>    
    </div>
    <div class="container-fluid mt-5  ">
      <h3>QR Codes below</h3>
      <div class="row py-1">
        <div class="accordion" id="accordionExample">
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingOne">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                Set preset (Resolution, fps, time) - Step 1
              </button>
            </h2>
            <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                Scan this QR-code to set the recording preset on the Gopro.
                <div id="QRPreset" class="py-2">
                  <button type="button" class="btn btn-primary mt-2 mb-3" style="width: 100%; max-width: 400px" onclick="$('.accordion-button')[1].click()">Next code</button>
                </div>
                <p id="PresetCommand"></p>
              </div>
            </div>
          </div>
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                 Start recording - Step 2
              </button>
            </h2>
            <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
              <div class="accordion-body">
                Scan this QR-code to start recording in the selected interval.
                <div id="QRCycle" class="py-2"></div>
                <p id="CycleCommand"><strong>Please select a preset to generate QR-code</strong></p>
              </div>
            </div>
          </div>  
        </div>
      </div>
    </div>
    <style>
      .accordion img {
        width: 100%;
        max-width: 400px
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</body>
</html>
